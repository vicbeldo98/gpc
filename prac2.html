<!doctype html>
<html lang="es">
    <head>
        <meta charset="utf-8">
        <title>My first Three.js app</title>
        <style>
            canvas{ width:100%; height:100%; background-color: white;}
        </style>
    </head>
    <body>
        <script src="lib/three.min_r96.js"></script>

        <script>
            var renderer, scene, camera;

            function init(){
                renderer = new THREE.WebGLRenderer();
                renderer.setSize( window.innerWidth, window.innerHeight );
                renderer.setClearColor ( new THREE.Color(0x0000AA), 1.0);
                document.body.appendChild( renderer.domElement);

                scene = new THREE.Scene();

                var aspectRatio = window.innerWidth / window.innerHeight;

                // PerspectiveCamera(angulo vision, width y heigth pantalla, punto m치s cercano, punto m치s lejano)
                camera = new THREE.PerspectiveCamera(75, aspectRatio, 0.1, 10000);
                camera.lookAt(0,0,0);
                camera.position.set(100,100,200);
            }

            function loadScene(){

                //  Creando el suelo
                var geometria = new THREE.PlaneGeometry(1000,1000,10,10);
                var yellow_floor = new THREE.MeshBasicMaterial({color:0x000000, wireframe: true});
                var suelo = new THREE.Mesh(geometria, yellow_floor);
                suelo.position.set(0, 0, 0);
                suelo.rotation.x = 90;
                // scene.add(suelo);

                // Material para todo el robot
                var material = new THREE.MeshBasicMaterial( {color: 0xffffff, wireframe: true} );

                // Creando la base del robot
                var cilindro = new THREE.CylinderGeometry( 50, 50, 15, 40 );
                var base = new THREE.Mesh( cilindro, material );
                // scene.add( base );


                //Creando el brazo
                //parte inferior del brazo
                var cilindro = new THREE.CylinderGeometry( 20, 20, 18, 40 );
                var brazo_inferior = new THREE.Mesh( cilindro, material );
                brazo_inferior.rotation.x = 90;
                // scene.add( brazo_inferior );

                //parte intermedia del brazo
                var cubo = new THREE.CubeGeometry( 18, 120, 12);
                var brazo_intermedio = new THREE.Mesh( cubo, material );
                brazo_intermedio.position.set(0,60,0);
                // scene.add( brazo_intermedio );

                //parte superior del brazo
                var esfera = new THREE.SphereGeometry( 20, 15, 15);
                var brazo_superior = new THREE.Mesh( esfera, material );
                brazo_superior.position.set(0,120,0);
                // scene.add( brazo_superior );

                // Creando el antebrazo
                //parte inferior del antebrazo
                var cilindro = new THREE.CylinderGeometry( 22, 22, 6, 40 );
                var antebrazo_inferior = new THREE.Mesh( cilindro, material );
                antebrazo_inferior.position.set(0,120,0);
                // scene.add( antebrazo_inferior );

                //partes intermedias del antebrazo
                //nervio 1
                var cubo = new THREE.CubeGeometry(4, 80, 4);
                var nervio1 = new THREE.Mesh( cubo, material);
                nervio1.position.set(20,160,0);
                // scene.add( nervio1 );

                //nervio 2
                var cubo = new THREE.CubeGeometry(4, 80, 4);
                var nervio2 = new THREE.Mesh( cubo, material );
                nervio2.position.set(-20,160,0);
                // scene.add( nervio2 );

                //nervio 3
                var cubo = new THREE.CubeGeometry(4, 80, 4);
                var nervio3 = new THREE.Mesh( cubo, material );
                nervio3.position.set(0,160,20);
                // scene.add( nervio3 );

                //nervio 4
                var cubo = new THREE.CubeGeometry(4, 80, 4);
                var nervio4 = new THREE.Mesh( cubo, material );
                nervio4.position.set(0,160,-20);
                // scene.add( nervio4 );


                //parte superior del antebrazo
                var cilindro = new THREE.CylinderGeometry( 15, 15, 40, 40 );
                var antebrazo_superior = new THREE.Mesh( cilindro, material );
                antebrazo_superior.position.set(0,200,0);
                antebrazo_superior.rotation.x = 90
                // scene.add( antebrazo_superior );

                // A침adir pinzas del robot
                var mano = new THREE.Object3D();
                var geom = new THREE.Geometry();
                var vertices = [
                    0,0,0,
                    4,0,0,
                    4,20,0,
                    0,20,0,
                    4,20,19,
                    0,20,19,
                    4,0,19,
                    0,0,19,
                    2,20,38,
                    0,20,38,
                    2,0,38,
                    0,0,38
                ]

                var indices = [
                    4,2,3,
                    5,4,3,
                    3,2,0,
                    2,1,0,
                    2,4,1,
                    4,6,1,
                    5,3,7,
                    3,0,7,
                    0,1,7,
                    1,6,7,
                    

                ];

                for(var i=0;i<vertices.length; i+=3){
                    console.log('vertice:'+vertices[i]);
                    var vertice = new THREE.Vector3(vertices[i],vertices[i+1], vertices[i+2]);
                    geom.vertices.push(vertice);
                }

                for(var i=0;i< indices.length;i+=3){
                    console.log(indices[i]);
                    var triangulo = new THREE.Face3(indices[i], indices[i+1], indices[i+2]);
                    geom.faces.push(triangulo);
                }

                pinzas = new THREE.Mesh( geom, material);
                mano.add(pinzas);
                scene.add(mano);



                //  A침adir ejes x y  z
                var helper = new THREE.AxesHelper(1000);
                // scene.add(helper);
            }

            function update(){
            }

            function render(){
                requestAnimationFrame( render );
                update();
                renderer.render( scene, camera );
            }

            init();
            loadScene();
            render();
        </script>
    </body>
</html>